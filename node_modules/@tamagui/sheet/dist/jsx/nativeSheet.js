import { YStack } from "@tamagui/stacks";
import { useEffect, useRef } from "react";
import { View } from "react-native";
import { SheetProvider } from "./SheetContext";
import { useSheetOpenState } from "./useSheetOpenState";
import { useSheetProviderProps } from "./useSheetProviderProps";
const nativeSheets = {
  ios: null
};
function getNativeSheet(platform) {
  return nativeSheets[platform];
}
function setupNativeSheet(platform, Implementation) {
  platform === "ios" && (nativeSheets[platform] = (props) => {
    const state = useSheetOpenState(props), providerProps = useSheetProviderProps(props, state), { open, setOpen } = state, ref = useRef();
    return useEffect(() => {
      ref.current?.setVisibility(open);
    }, [open]), <><SheetProvider {...providerProps} onlyShowFrame>
      <Implementation ref={ref} onModalDismiss={() => setOpen(!1)}><View style={{ flex: 1 }}>{props.children}</View></Implementation>
      {
        /* for some reason select triggers wont show on native if this isn't inside the actual tree not inside implementation... */
      }
      {
        /* so just hiding it here for now... not great... */
      }
      <YStack
        position="absolute"
        opacity={0}
        pointerEvents="none"
        width={0}
        height={0}
      >{props.children}</YStack>
    </SheetProvider></>;
  });
}
export {
  getNativeSheet,
  setupNativeSheet
};
//# sourceMappingURL=nativeSheet.js.map
